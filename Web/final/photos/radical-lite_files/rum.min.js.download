/*!
 * Copyright (c) 2011, Yahoo! Inc.  All rights reserved.
 * Copyright (c) 2012, Log-Normal, Inc.  All rights reserved.
 * Copyright (c) 2014, SOASTA, Inc. All rights reserved.
 * Copyright (c) 2017, Uptrends. All rights reserved.
 * Copyrights licensed under the BSD License. See https://hit.uptrendsdata.com/license.txt for terms.
 */
function UTBOOMR_check_doc_domain(n){var t;if(!n){if(window.parent===window||!document.getElementById("boomr-if-as"))return;if(window.UTBOOMR&&UTBOOMR.boomerang_frame&&UTBOOMR.window)try{UTBOOMR.boomerang_frame.document.domain!==UTBOOMR.window.document.domain&&(UTBOOMR.boomerang_frame.document.domain=UTBOOMR.window.document.domain)}catch(i){UTBOOMR.isCrossOriginError(i)||UTBOOMR.addError(i,"UTBOOMR_check_doc_domain.domainFix")}n=document.domain}if(n.indexOf(".")!==-1){try{t=window.parent.document;return}catch(i){document.domain=n}try{t=window.parent.document;return}catch(i){n=n.replace(/^[\w\-]+\./,"")}UTBOOMR_check_doc_domain(n)}}var ut_beacon,ut_useCookie,ut_protocol;UTBOOMR_start=(new Date).getTime();UTBOOMR_check_doc_domain(),function(n){var t,r,i,s,u,o,f,e,h=n;(n.parent!==n&&document.getElementById("boomr-if-as")&&document.getElementById("boomr-if-as").nodeName.toLowerCase()==="script"&&(n=n.parent,s=document.getElementById("boomr-if-as").src),i=n.document,n.UTBOOMR||(n.UTBOOMR={}),UTBOOMR=n.UTBOOMR,UTBOOMR.version)||(UTBOOMR.version="0.9",UTBOOMR.window=n,UTBOOMR.boomerang_frame=h,UTBOOMR.plugins||(UTBOOMR.plugins={}),function(){try{new n.CustomEvent("CustomEvent")!==undefined&&(u=function(t,i){return new n.CustomEvent(t,i)})}catch(t){}try{!u&&i.createEvent&&i.createEvent("CustomEvent")&&(u=function(n,t){var r=i.createEvent("CustomEvent");return t=t||{cancelable:!1,bubbles:!1},r.initCustomEvent(n,t.bubbles,t.cancelable,t.detail),r})}catch(t){}!u&&i.createEventObject&&(u=function(n,t){var r=i.createEventObject();return r.type=r.propertyName=n,r.detail=t.detail,r});u||(u=function(){return undefined})}(),o=function(n,t,r){function e(){i.dispatchEvent?i.dispatchEvent(f):i.fireEvent&&i.fireEvent("onpropertychange",f)}var f=u(n,{detail:t});f&&(r?UTBOOMR.setImmediate(e):e())},typeof document.hidden!="undefined"?(f="visibilityState",e="visibilitychange"):typeof document.mozHidden!="undefined"?(f="mozVisibilityState",e="mozvisibilitychange"):typeof document.msHidden!="undefined"?(f="msVisibilityState",e="msvisibilitychange"):typeof document.webkitHidden!="undefined"&&(f="webkitVisibilityState",e="webkitvisibilitychange"),t={beacon_url:"",beacon_type:"AUTO",site_domain:n.location.hostname.replace(/.*?([^.]+\.[^.]+)\.?$/,"$1").toLowerCase(),user_ip:"",autorun:!0,strip_query_string:!1,onloadfired:!1,handlers_attached:!1,events:{page_ready:[],page_unload:[],before_unload:[],dom_loaded:[],visibility_changed:[],before_beacon:[],onbeacon:[],xhr_load:[],click:[],form_submit:[]},public_events:{before_beacon:"onBeforeBoomerangBeacon",onbeacon:"onBoomerangBeacon",onboomerangloaded:"onBoomerangLoaded"},vars:{},errors:{},disabled_plugins:{},xb_handler:function(i){return function(r){var u;(r||(r=n.event),r.target?u=r.target:r.srcElement&&(u=r.srcElement),u.nodeType===3&&(u=u.parentNode),u&&u.nodeName.toUpperCase()==="OBJECT"&&u.type==="application/x-shockwave-flash")||t.fireEvent(i,u)}},fireEvent:function(n,t){var i,r,u;if(n=n.toLowerCase(),this.events.hasOwnProperty(n)){for(this.public_events.hasOwnProperty(n)&&o(this.public_events[n],t),u=this.events[n],i=0;i<u.length;i++)try{r=u[i];r.fn.call(r.scope,t,r.cb_data)}catch(f){UTBOOMR.addError(f,"fireEvent."+n+"<"+i+">")}return}}},r={t_lstart:null,t_start:UTBOOMR_start,t_end:null,t_onload:undefined,url:s,utils:{objectToString:function(n,t,i){var u=[],r;if(!n||typeof n!="object")return n;if(t===undefined&&(t="\n\t"),i||(i=0),Object.prototype.toString.call(n)==="[object Array]"){for(r=0;r<n.length;r++)i>0&&n[r]!==null&&typeof n[r]=="object"?u.push(this.objectToString(n[r],t+(t==="\n\t"?"\t":""),i-1)):t==="&"?u.push(encodeURIComponent(n[r])):u.push(n[r]);t=","}else for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i>0&&n[r]!==null&&typeof n[r]=="object"?u.push(encodeURIComponent(r)+"="+this.objectToString(n[r],t+(t==="\n\t"?"\t":""),i-1)):t==="&"?u.push(encodeURIComponent(r)+"="+encodeURIComponent(n[r])):u.push(r+"="+n[r]));return u.join(t)},getCookie:function(n){if(!n)return null;n=" "+n+"=";var t,r;return(r=" "+i.cookie+";",(t=r.indexOf(n))>=0)?(t+=n.length,r.substring(t,r.indexOf(";",t)).replace(/^"/,"").replace(/"$/,"")):null},setCookie:function(n,r,u){var o,e,s,h,f;if(!n||!t.site_domain)return UTBOOMR.debug("No cookie name or site domain: "+n+"/"+t.site_domain),!1;if(o=this.objectToString(r,"&"),e=n+'="'+o+'"',h=[e,"path=/","domain="+t.site_domain],u&&(f=new Date,f.setTime(f.getTime()+u*1e3),f=f.toGMTString(),h.push("expires="+f)),e.length<500){if(i.cookie=h.join("; "),s=this.getCookie(n),o===s)return!0;UTBOOMR.warn("Saved cookie value doesn't match what we tried to set:\n"+o+"\n"+s)}else UTBOOMR.warn("Cookie too long: "+e.length+" "+e);return!1},getSubCookies:function(n){var r,i,u,t,f=!1,e={};if(!n)return null;if(typeof n!="string")return UTBOOMR.debug("TypeError: cookie is not a string: "+typeof n),null;for(r=n.split("&"),i=0,u=r.length;i<u;i++)t=r[i].split("="),t[0]&&(t.push(""),e[decodeURIComponent(t[0])]=decodeURIComponent(t[1]),f=!0);return f?e:null},removeCookie:function(n){return this.setCookie(n,{},-86400)},cleanupURL:function(n){return!n||Object.prototype.toString.call(n)==="[object Array]"?"":t.strip_query_string?n.replace(/\?.*/,"?qs-redacted"):n},hashQueryString:function(n,t){return n?n.match?(n.match(/^\/\//)&&(n=location.protocol+n),!n.match(/^(https?|file):/))?(UTBOOMR.error("Passed in URL is invalid: "+n),""):(t&&(n=n.replace(/#.*/,"")),!UTBOOMR.utils.MD5)?n:n.replace(/\?([^#]*)/,function(n,t){return"?"+(t.length>10?UTBOOMR.utils.MD5(t):t)}):(UTBOOMR.addError("TypeError: Not a string","hashQueryString",typeof n),""):n},pluginConfig:function(n,t,i,r){var u,f=0;if(!t||!t[i])return!1;for(u=0;u<r.length;u++)t[i][r[u]]!==undefined&&(n[r[u]]=t[i][r[u]],f++);return f>0},arrayFilter:function(n,t){var i=[],r,f,u;if(typeof n.filter=="function")i=n.filter(t);else for(r=-1,f=n.length;++r<f;)u=n[r],t(u,r,n)&&(i[i.length]=u);return i},addObserver:function(n,t,i,r,u,f){function o(n){var t=!1;e.timer&&(clearTimeout(e.timer),e.timer=null);r&&(t=r.call(f,n,u),t||(r=null));!t&&e.observer&&(e.observer.disconnect(),e.observer=null);typeof t=="number"&&t>0&&(e.timer=setTimeout(o,t))}var e={observer:null,timer:null};return!window.MutationObserver||!r||!n?null:(e.observer=new MutationObserver(o),i&&(e.timer=setTimeout(o,e.timeout)),e.observer.observe(n,t),e)},addListener:function(n,t,i){n.addEventListener?n.addEventListener(t,i,!1):n.attachEvent&&n.attachEvent("on"+t,i)},removeListener:function(n,t,i){n.removeEventListener?n.removeEventListener(t,i,!1):n.detachEvent&&n.detachEvent("on"+t,i)},pushVars:function(n,t,i){var r,f,e=0,u;for(r in t)if(t.hasOwnProperty(r))if(Object.prototype.toString.call(t[r])==="[object Array]")for(f=0;f<t[r].length;++f)e+=UTBOOMR.utils.pushVars(n,t[r][f],r+"["+f+"]");else u=document.createElement("input"),u.type="hidden",u.name=i?i+"["+r+"]":r,u.value=t[r]===undefined||t[r]===null?"":t[r],n.appendChild(u),e+=encodeURIComponent(u.name).length+encodeURIComponent(u.value).length+2;return e},sendData:function(n,i){function u(n){var t=document.getElementById(n);t&&t.parentNode.removeChild(t)}function f(){var t,e="boomerang_post-"+encodeURIComponent(n.action)+"-"+Math.random(),i;try{t=document.createElement('<iframe name="'+e+'">')}catch(o){t=document.createElement("iframe")}n.action=r.shift();t.name=t.id=e;t.style.display=n.style.display="none";t.src="javascript:false";u(t.id);u(n.id);document.body.appendChild(t);i=t.contentWindow||t.contentDocument;i.document&&(i=i.document);i.body?i.body.appendChild(n):i.appendChild(n);try{n.submit()}catch(o){}r.length&&UTBOOMR.setImmediate(f);setTimeout(function(){u(t.id)},1e4)}var e=document.createElement("input"),r=[t.beacon_url];n.method=i;n.id="beacon_form";n.enctype="application/x-www-form-urlencoded";t.secondary_beacons&&t.secondary_beacons.length&&r.push.apply(r,t.secondary_beacons);f()}},init:function(r){var f,u,o=["beacon_url","beacon_type","site_domain","user_ip","strip_query_string","secondary_beacons","autorun"];if(UTBOOMR_check_doc_domain(),r||(r={}),r.primary&&t.handlers_attached)return this;r.site_domain!==undefined&&(this.session.domain=r.site_domain);r.log!==undefined&&(this.log=r.log);this.log||(this.log=function(){});for(u in this.plugins)if(this.plugins.hasOwnProperty(u)){if(r[u]&&r[u].hasOwnProperty("enabled")&&r[u].enabled===!1){t.disabled_plugins[u]=1;typeof this.plugins[u].disable=="function"&&this.plugins[u].disable();continue}if(t.disabled_plugins[u]){if(!r[u]||!r[u].hasOwnProperty("enabled")||r[u].enabled!==!0)continue;typeof this.plugins[u].enable=="function"&&this.plugins[u].enable();delete t.disabled_plugins[u]}if(typeof this.plugins[u].init=="function")try{this.plugins[u].init(r)}catch(s){UTBOOMR.addError(s,u+".init")}}for(f=0;f<o.length;f++)r[o[f]]!==undefined&&(t[o[f]]=r[o[f]]);return t.handlers_attached?this:(t.onloadfired||r.autorun!==undefined&&r.autorun===!1||(i.readyState&&i.readyState==="complete"?(UTBOOMR.loadedLate=!0,this.setImmediate(UTBOOMR.page_ready_autorun,null,null,UTBOOMR)):n.onpagehide||n.onpagehide===null?UTBOOMR.utils.addListener(n,"pageshow",UTBOOMR.page_ready_autorun):UTBOOMR.utils.addListener(n,"load",UTBOOMR.page_ready_autorun)),UTBOOMR.utils.addListener(n,"DOMContentLoaded",function(){t.fireEvent("dom_loaded")}),function(){var u,r;for(e!==undefined&&(UTBOOMR.utils.addListener(i,e,function(){t.fireEvent("visibility_changed")}),UTBOOMR.subscribe("visibility_changed",function(){UTBOOMR.lastVisibilityEvent[UTBOOMR.visibilityState()]=UTBOOMR.now()})),UTBOOMR.utils.addListener(i,"mouseup",t.xb_handler("click")),u=i.getElementsByTagName("form"),r=0;r<u.length;r++)UTBOOMR.utils.addListener(u[r],"submit",t.xb_handler("form_submit"));n.onpagehide||n.onpagehide===null||UTBOOMR.utils.addListener(n,"unload",function(){UTBOOMR.window=n=null})}(),t.handlers_attached=!0,this)},page_ready_autorun:function(n){t.autorun&&UTBOOMR.page_ready(n)},page_ready:function(i){return(i||(i=n.event),i||(i={name:"load"}),t.onloadfired)?this:(t.fireEvent("page_ready",i),t.onloadfired=!0,this)},setImmediate:function(t,i,r,u){var f,e;typeof Error!="undefined"&&(e=new Error,e=e.stack?e.stack.replace(/^Error/,"Called"):undefined);f=function(){t.call(u||null,i,r||{},e);f=null};n.setImmediate?n.setImmediate(f):n.msSetImmediate?n.msSetImmediate(f):n.webkitSetImmediate?n.webkitSetImmediate(f):n.mozSetImmediate?n.mozSetImmediate(f):setTimeout(f,10)},now:function(){try{if("performance"in window&&window.performance&&window.performance.now)return function(){return Math.round(window.performance.now()+window.performance.timing.navigationStart)}}catch(n){}return Date.now||function(){return(new Date).getTime()}}(),visibilityState:f===undefined?function(){return"visible"}:function(){return i[f]},lastVisibilityEvent:{},subscribe:function(i,r,u,f){var s,e,o;if(i=i.toLowerCase(),!t.events.hasOwnProperty(i))return this;for(o=t.events[i],s=0;s<o.length;s++)if(e=o[s],e&&e.fn===r&&e.cb_data===u&&e.scope===f)return this;return o.push({fn:r,cb_data:u||{},scope:f||null}),i==="page_ready"&&t.onloadfired&&this.setImmediate(r,null,u,f),(i==="page_unload"||i==="before_unload")&&function(){var e,s=o.length;e=function(e){r&&r.call(f,e||n.event,u);i==="page_unload"&&s===t.events[i].length&&UTBOOMR.real_sendBeacon()};i==="page_unload"&&(n.onpagehide||n.onpagehide===null?UTBOOMR.utils.addListener(n,"pagehide",e):UTBOOMR.utils.addListener(n,"unload",e));UTBOOMR.utils.addListener(n,"beforeunload",e)}(),this},addError:function(n,i,r){var u;typeof n!="string"&&(u=String(n),u.match(/^\[object/)&&(u=n.name+": "+(n.description||n.message).replace(/\r\n$/,"")),n=u);i!==undefined&&(n="["+i+":"+UTBOOMR.now()+"] "+n);r&&(n+=":: "+r);t.errors[n]?t.errors[n]++:t.errors[n]=1},isCrossOriginError:function(n){return n.name==="SecurityError"||n.name==="TypeError"&&n.message==="Permission denied"||n.name==="Error"&&n.message&&n.message.match(/^(Permission|Access is) denied/)},addVar:function(n,i){if(typeof n=="string")t.vars[n]=i;else if(typeof n=="object"){var r=n;for(var u in r)r.hasOwnProperty(u)&&(t.vars[u]=r[u])}return this},removeVar:function(n){var i,r;if(!arguments.length)return this;for(r=arguments.length===1&&Object.prototype.toString.apply(n)==="[object Array]"?n:arguments,i=0;i<r.length;i++)t.vars.hasOwnProperty(r[i])&&delete t.vars[r[i]];return this},hasVar:function(n){return t.vars.hasOwnProperty(n)},requestStart:function(n){var t=UTBOOMR.now();return UTBOOMR.plugins.RT.startTimer("xhr_"+n,t),{loaded:function(i){UTBOOMR.responseEnd(n,t,i)}}},responseEnd:function(n,i,r){typeof n=="object"&&n.url?t.fireEvent("xhr_load",n):(UTBOOMR.plugins.RT.startTimer("xhr_"+n,i),t.fireEvent("xhr_load",{name:"xhr_"+n,data:r}))},uninstrumentXHR:function(){},instrumentXHR:function(){},sendBeacon:function(n){return n&&(t.beacon_url=n),t.beaconQueued||(t.beaconQueued=!0,UTBOOMR.setImmediate(UTBOOMR.real_sendBeacon,null,null,UTBOOMR)),!0},real_sendBeacon:function(){var r,o,u,f,s=0,h=[],e,c=0,l,a;if(!t.beaconQueued)return!1;t.beaconQueued=!1;UTBOOMR.debug("Checking if we can send beacon");for(r in this.plugins)if(this.plugins.hasOwnProperty(r)){if(t.disabled_plugins[r])continue;if(!this.plugins[r].is_complete())return UTBOOMR.debug("Plugin "+r+" is not complete, deferring beacon send"),!1}l=t.vars["http.initiator"]==="spa";a=l?i.URL:i.URL.replace(/#.*/,"");t.vars.pgu=UTBOOMR.utils.cleanupURL(a);(!t.vars.u||l)&&(t.vars.u=t.vars.pgu);t.vars.pgu===t.vars.u&&delete t.vars.pgu;t.vars.v=UTBOOMR.version;UTBOOMR.visibilityState()&&(t.vars["vis.st"]=UTBOOMR.visibilityState(),UTBOOMR.lastVisibilityEvent.visible&&(t.vars["vis.lv"]=UTBOOMR.now()-UTBOOMR.lastVisibilityEvent.visible),UTBOOMR.lastVisibilityEvent.hidden&&(t.vars["vis.lh"]=UTBOOMR.now()-UTBOOMR.lastVisibilityEvent.hidden));t.vars["ua.plt"]=navigator.platform;t.vars["ua.vnd"]=navigator.vendor;n!==window&&(t.vars["if"]="");for(r in t.errors)t.errors.hasOwnProperty(r)&&h.push(r+(t.errors[r]>1?" (*"+t.errors[r]+")":""));if(h.length>0&&(t.vars.errors=h.join("\n")),t.errors={},t.fireEvent("before_beacon",t.vars),UTBOOMR.debug("Ready to send beacon: "+UTBOOMR.utils.objectToString(t.vars)),!t.beacon_url)return UTBOOMR.debug("No beacon URL, so skipping."),!0;if(UTBOOMR.hasVar("restiming"))o=document.createElement("form"),s=UTBOOMR.utils.pushVars(o,t.vars);else{e=[];for(r in t.vars)t.vars.hasOwnProperty(r)&&(c++,e.push(encodeURIComponent(r)+"="+(t.vars[r]===undefined||t.vars[r]===null?"":encodeURIComponent(t.vars[r]))));u=t.beacon_url+(t.beacon_url.indexOf("?")>-1?"&":"?")+e.join("&")}if(t.fireEvent("onbeacon",t.vars),s===0&&c===0)return this;if(c){if(f=new Image,f.src=u,t.secondary_beacons)for(r=0;r<t.secondary_beacons.length;r++)u=t.secondary_beacons[r]+"?"+e.join("&"),f=new Image,f.src=u}else UTBOOMR.utils.sendData(o,t.beacon_type==="AUTO"?s>2e3?"POST":"GET":"POST");return!0}},delete UTBOOMR_start,typeof UTBOOMR_lstart=="number"?(r.t_lstart=UTBOOMR_lstart,delete UTBOOMR_lstart):typeof UTBOOMR.window.UTBOOMR_lstart=="number"&&(r.t_lstart=UTBOOMR.window.UTBOOMR_lstart),typeof UTBOOMR.window.UTBOOMR_onload=="number"&&(r.t_onload=UTBOOMR.window.UTBOOMR_onload),function(){var n;typeof console=="object"&&console.log!==undefined&&(r.log=function(n,t,i){console.log(i+": ["+t+"] "+n)});n=function(n){return function(t,i){return this.log(t,n,"boomerang"+(i?"."+i:"")),this}};r.debug=n("debug");r.info=n("info");r.warn=n("warn");r.error=n("error")}(),function(){for(var n in r)r.hasOwnProperty(n)&&(UTBOOMR[n]=r[n]);if(!UTBOOMR.xhr_excludes){
//! URLs to exclude from automatic XHR instrumentation
UTBOOMR.xhr_excludes={}}}(),o("onBoomerangLoaded",{UTBOOMR:UTBOOMR},!0))}(window),function(n){var i=n.document,t;(UTBOOMR=UTBOOMR||{},UTBOOMR.plugins=UTBOOMR.plugins||{},UTBOOMR.plugins.RT)||(t={onloadfired:!1,unloadfired:!1,visiblefired:!1,initialized:!1,complete:!1,timers:{},cookie:"RT",cookie_exp:600,strict_referrer:!0,navigationType:0,navigationStart:undefined,responseStart:undefined,t_start:undefined,cached_t_start:undefined,t_fb_approx:undefined,r:undefined,r2:undefined,basic_timers:{t_done:1,t_resp:1,t_page:1},addedVars:[],updateCookie:function(n,t){var f,u,r,i;if(!this.cookie)return!1;if(r=UTBOOMR.utils.getSubCookies(UTBOOMR.utils.getCookie(this.cookie))||{},typeof n=="object")for(i in n)n.hasOwnProperty(i)&&(n[i]===undefined?r.hasOwnProperty(i)&&delete r[i]:((i==="nu"||i==="r")&&(n[i]=UTBOOMR.utils.hashQueryString(n[i],!0)),r[i]=n[i]));return(u=UTBOOMR.now(),t&&(r[t]=u),UTBOOMR.debug("Setting cookie (timer="+t+")\n"+UTBOOMR.utils.objectToString(r),"rt"),!UTBOOMR.utils.setCookie(this.cookie,r,this.cookie_exp))?(UTBOOMR.error("cannot set start cookie","rt"),!1):(f=UTBOOMR.now(),f-u>50&&(UTBOOMR.utils.removeCookie(this.cookie),UTBOOMR.error("took more than 50ms to set cookie... aborting: "+u+" -> "+f,"rt")),!0)},initFromCookie:function(){var t,n;(n=UTBOOMR.utils.getSubCookies(UTBOOMR.utils.getCookie(this.cookie)),n)&&(n.s=Math.max(+n.ld||0,Math.max(+n.ul||0,+n.cl||0)),UTBOOMR.debug("Read from cookie "+UTBOOMR.utils.objectToString(n),"rt"),n.s&&(n.r||n.nu)&&(this.r=n.r,t=UTBOOMR.utils.hashQueryString(i.URL,!0),UTBOOMR.debug(this.r+" =?= "+this.r2,"rt"),UTBOOMR.debug(n.s+" <? "+(+n.cl+15),"rt"),UTBOOMR.debug(n.nu+" =?= "+t,"rt"),!this.strict_referrer||n.nu&&n.nu===t&&n.s<+n.cl+15||n.s===+n.ul&&this.r===this.r2?(this.t_start=n.s,+n.hd>n.s&&(this.t_fb_approx=parseInt(n.hd,10))):this.t_start=this.t_fb_approx=undefined),this.updateCookie({s:undefined,r:undefined,nu:undefined,ul:undefined,cl:undefined,hd:undefined}))},getBoomerangTimings:function(){function r(n,t){var i=Math.round(n?n:0),r=Math.round(t?t:0);return i=i===0?0:i-r,i?i:""}var n,f,u,i,e;UTBOOMR.t_start&&(UTBOOMR.plugins.RT.startTimer("boomerang",UTBOOMR.t_start),UTBOOMR.plugins.RT.endTimer("boomerang",UTBOOMR.t_end),UTBOOMR.plugins.RT.endTimer("boomr_fb",UTBOOMR.t_start),UTBOOMR.t_lstart&&(UTBOOMR.plugins.RT.endTimer("boomr_ld",UTBOOMR.t_lstart),UTBOOMR.plugins.RT.setTimer("boomr_lat",UTBOOMR.t_start-UTBOOMR.t_lstart)));try{if(window.performance&&window.performance.getEntriesByName){f={"rt.bmr":UTBOOMR.url};for(u in f)if(f.hasOwnProperty(u)&&f[u]){if(n=window.performance.getEntriesByName(f[u]),!n||n.length===0)continue;n=n[0];i=r(n.startTime,0);e=[i,r(n.responseEnd,i),r(n.responseStart,i),r(n.requestStart,i),r(n.connectEnd,i),r(n.secureConnectionStart,i),r(n.connectStart,i),r(n.domainLookupEnd,i),r(n.domainLookupStart,i),r(n.redirectEnd,i),r(n.redirectStart,i)].join(",").replace(/,+$/,"");UTBOOMR.addVar(u,e);t.addedVars.push(u)}}}catch(o){UTBOOMR.addError(o,"rt.getBoomerangTimings")}},checkPreRender:function(){return UTBOOMR.visibilityState()!=="prerender"?!1:(UTBOOMR.plugins.RT.startTimer("t_load",this.navigationStart),UTBOOMR.plugins.RT.endTimer("t_load"),UTBOOMR.plugins.RT.startTimer("t_prerender",this.navigationStart),UTBOOMR.plugins.RT.startTimer("t_postrender"),!0)},initFromNavTiming:function(){var t,i,r;if(!this.navigationStart){i=n.performance||n.msPerformance||n.webkitPerformance||n.mozPerformance;i&&i.navigation&&(this.navigationType=i.navigation.type);i&&i.timing?t=i.timing:n.chrome&&n.chrome.csi&&n.chrome.csi().startE?(t={navigationStart:n.chrome.csi().startE},r="csi"):n.gtbExternal&&n.gtbExternal.startE()&&(t={navigationStart:n.gtbExternal.startE()},r="gtb");t?(UTBOOMR.addVar("rt.start",r||"navigation"),this.navigationStart=t.navigationStart||t.fetchStart||undefined,this.responseStart=t.responseStart||undefined,navigator.userAgent.match(/Firefox\/[78]\./)&&(this.navigationStart=t.unloadEventStart||t.fetchStart||undefined)):UTBOOMR.warn("This browser doesn't support the WebTiming API","rt");return}},validateLoadTimestamp:function(t,i,r){if(i&&i.timing&&i.timing.loadEventEnd)return i.timing.loadEventEnd;if(r!=="xhr"||i&&i.initiator==="spa"){if(UTBOOMR.loadedLate)if(n.performance&&n.performance.timing){if(n.performance.timing.loadEventStart&&n.performance.timing.loadEventStart<UTBOOMR.t_end)return n.performance.timing.loadEventStart}else return UTBOOMR.t_onload||UTBOOMR.t_lstart||UTBOOMR.t_start||t}else return t;return t},setPageLoadTimers:function(n,i,r){var u;return n!=="xhr"&&(t.initFromCookie(),t.initFromNavTiming(),t.checkPreRender())?!1:(n==="xhr"?r&&r.timing&&(u=r.timing.responseStart):t.responseStart?u=t.responseStart:t.timers.hasOwnProperty("t_page")?UTBOOMR.plugins.RT.endTimer("t_page"):t.t_fb_approx&&(u=t.t_fb_approx),u&&(UTBOOMR.plugins.RT.endTimer("t_resp",u),t.timers.t_load?UTBOOMR.plugins.RT.setTimer("t_page",t.timers.t_load.end-u):UTBOOMR.plugins.RT.setTimer("t_page",i-u)),t.timers.hasOwnProperty("t_postrender")&&(UTBOOMR.plugins.RT.endTimer("t_postrender"),UTBOOMR.plugins.RT.endTimer("t_prerender")),!0)},setSupportingTimestamps:function(n){n&&UTBOOMR.addVar("rt.tstart",n);typeof t.t_start=="number"&&t.t_start!==n&&UTBOOMR.addVar("rt.cstart",t.t_start);UTBOOMR.addVar("rt.bstart",UTBOOMR.t_start);UTBOOMR.t_lstart&&UTBOOMR.addVar("rt.blstart",UTBOOMR.t_lstart);UTBOOMR.addVar("rt.end",t.timers.t_done.end)},determineTStart:function(n,i){var r;return n==="xhr"?(i&&i.name&&t.timers[i.name]?r=t.timers[i.name].start:i&&i.timing&&i.timing.requestStart&&(r=i.timing.requestStart),typeof r=="undefined"&&i&&i.initiator==="spa"?UTBOOMR.addVar("rt.start","none"):UTBOOMR.addVar("rt.start","manual")):t.navigationStart?r=t.navigationStart:t.t_start&&t.navigationType!==2?(r=t.t_start,UTBOOMR.addVar("rt.start","cookie")):t.cached_t_start?r=t.cached_t_start:(UTBOOMR.addVar("rt.start","none"),r=undefined),UTBOOMR.debug("Got start time: "+r,"rt"),t.cached_t_start=r,r},page_ready:function(){this.onloadfired=!0},check_visibility:function(){UTBOOMR.visibilityState()==="visible"&&(t.visiblefired=!0);t.visibilityState==="prerender"&&UTBOOMR.visibilityState()!=="prerender"&&UTBOOMR.plugins.RT.done(null,"visible");t.visibilityState=UTBOOMR.visibilityState()},page_unload:function(n){UTBOOMR.debug("Unload called with "+UTBOOMR.utils.objectToString(n)+" when unloadfired = "+this.unloadfired,"rt");this.unloadfired||UTBOOMR.plugins.RT.done(n,"unload");this.updateCookie({r:i.URL},n.type==="beforeunload"?"ul":"hd");this.unloadfired=!0},_iterable_click:function(n,i,r,u){var f;if(r){for(UTBOOMR.debug(n+" called with "+r.nodeName,"rt");r&&r.nodeName.toUpperCase()!==i;)r=r.parentNode;r&&r.nodeName.toUpperCase()===i&&(UTBOOMR.debug("passing through","rt"),f=u(r),this.updateCookie({nu:f},"cl"),UTBOOMR.addVar("nu",UTBOOMR.utils.cleanupURL(f)),t.addedVars.push("nu"))}},onclick:function(n){t._iterable_click("Click","A",n,function(n){return n.href})},onsubmit:function(n){t._iterable_click("Submit","FORM",n,function(n){var t=n.getAttribute("action")||i.URL||"";return t.match(/\?/)?t:t+"?"})},domloaded:function(){UTBOOMR.plugins.RT.endTimer("t_domloaded")},clear:function(){t.addedVars&&t.addedVars.length>0&&(UTBOOMR.removeVar(t.addedVars),t.addedVars=[])}},UTBOOMR.plugins.RT={init:function(r){return(UTBOOMR.debug("init RT","rt"),n!==UTBOOMR.window&&(n=UTBOOMR.window),i=n.document,UTBOOMR.utils.pluginConfig(t,r,"RT",["cookie","cookie_exp","strict_referrer"]),t.r=t.r2=UTBOOMR.utils.hashQueryString(i.referrer,!0),t.initFromCookie(),t.getBoomerangTimings(),t.initialized)?this:(t.complete=!1,t.timers={},t.check_visibility(),UTBOOMR.subscribe("page_ready",t.page_ready,null,t),UTBOOMR.subscribe("visibility_changed",t.check_visibility,null,t),UTBOOMR.subscribe("page_ready",this.done,"load",this),UTBOOMR.subscribe("xhr_load",this.done,"xhr",this),UTBOOMR.subscribe("dom_loaded",t.domloaded,null,t),UTBOOMR.subscribe("page_unload",t.page_unload,null,t),UTBOOMR.subscribe("click",t.onclick,null,t),UTBOOMR.subscribe("form_submit",t.onsubmit,null,t),UTBOOMR.subscribe("before_beacon",this.addTimersToBeacon,"beacon",this),UTBOOMR.subscribe("onbeacon",t.clear,null,t),t.initialized=!0,this)},startTimer:function(n,i){return n&&(n==="t_page"&&this.endTimer("t_resp",i),t.timers[n]={start:typeof i=="number"?i:UTBOOMR.now()}),this},endTimer:function(n,i){return n&&(t.timers[n]=t.timers[n]||{},t.timers[n].end===undefined&&(t.timers[n].end=typeof i=="number"?i:UTBOOMR.now())),this},setTimer:function(n,i){return n&&(t.timers[n]={delta:i}),this},addTimersToBeacon:function(n,i){var u,r,f=[];for(u in t.timers)if(t.timers.hasOwnProperty(u)){if(r=t.timers[u],typeof r.delta!="number"&&(typeof r.start!="number"&&(r.start=t.cached_t_start),r.delta=r.end-r.start),isNaN(r.delta))continue;t.basic_timers.hasOwnProperty(u)?(UTBOOMR.addVar(u,r.delta),t.addedVars.push(u)):f.push(u+"|"+r.delta)}f.length&&(UTBOOMR.addVar("t_other",f.join(",")),t.addedVars.push("t_other"));i==="beacon"&&(t.timers={},t.complete=!1)},done:function(n,i){try{UTBOOMR.debug("Called done with "+UTBOOMR.utils.objectToString(n,undefined,1)+", "+i,"rt")}catch(e){UTBOOMR.debug("Called done with "+e+", "+i,"rt")}var f,r,o=UTBOOMR.now(),u=!1;return(t.complete=!1,r=t.validateLoadTimestamp(o,n,i),(i==="load"||i==="visible"||i==="xhr")&&!t.setPageLoadTimers(i,r,n))?this:(f=t.determineTStart(i,n),this.endTimer("t_done",r),UTBOOMR.removeVar("t_done","t_page","t_resp","t_postrender","t_prerender","t_load","t_other","r","r2","rt.tstart","rt.cstart","rt.bstart","rt.end","rt.subres","rt.abld","http.errno","http.method","xhr.sync"),t.setSupportingTimestamps(f),this.addTimersToBeacon(),UTBOOMR.addVar("r",UTBOOMR.utils.cleanupURL(t.r)),t.r2!==t.r&&UTBOOMR.addVar("r2",UTBOOMR.utils.cleanupURL(t.r2)),i==="xhr"&&n&&n&&n.data&&(n=n.data),i==="xhr"&&n&&(u=n.subresource,n.url&&(UTBOOMR.addVar("u",UTBOOMR.utils.cleanupURL(n.url.replace(/#.*/,""))),t.addedVars.push("u")),n.status&&(n.status<-1||n.status>=400)&&UTBOOMR.addVar("http.errno",n.status),n.method&&n.method!=="GET"&&UTBOOMR.addVar("http.method",n.method),n.headers&&UTBOOMR.addVar("http.hdr",n.headers),n.synchronous&&UTBOOMR.addVar("xhr.sync",1),n.initiator&&UTBOOMR.addVar("http.initiator",n.initiator),t.addedVars.push("http.errno","http.method","http.hdr","xhr.sync","http.initiator")),u&&u!=="passive"&&(UTBOOMR.addVar("rt.subres",1),t.addedVars.push("rt.subres")),t.updateCookie(),i==="unload"&&(UTBOOMR.addVar("rt.quit",""),t.onloadfired||UTBOOMR.addVar("rt.abld",""),t.visiblefired||UTBOOMR.addVar("rt.ntvu","")),t.complete=!0,UTBOOMR.sendBeacon(),this)},is_complete:function(){return t.complete},navigationStart:function(){return t.navigationStart||t.initFromNavTiming(),t.navigationStart}})}(window),function(){if(UTBOOMR=UTBOOMR||{},UTBOOMR.plugins=UTBOOMR.plugins||{},!UTBOOMR.plugins.NavigationTiming){var n={complete:!1,xhr_done:function(t){var f=UTBOOMR.window,i,r={},u;if(t){if(t.data&&(t=t.data),t.url&&f.performance&&f.performance.getEntriesByName&&(i=f.performance.getEntriesByName(t.url),i&&i.length>0)){i=i[0];r={nt_red_st:i.redirectStart,nt_red_end:i.redirectEnd,nt_fet_st:i.fetchStart,nt_dns_st:i.domainLookupStart,nt_dns_end:i.domainLookupEnd,nt_con_st:i.connectStart,nt_con_end:i.connectEnd,nt_req_st:i.requestStart,nt_res_st:i.responseStart,nt_res_end:i.responseEnd};i.secureConnectionStart&&(r.nt_ssl_st=i.secureConnectionStart);for(u in r)r.hasOwnProperty(u)&&r[u]&&(r[u]+=f.performance.timing.navigationStart)}t.timing&&(i=t.timing,r.nt_req_st||(r.nt_req_st=i.requestStart),r.nt_res_st||(r.nt_res_st=i.responseStart),r.nt_res_end||(r.nt_res_end=i.responseEnd),r.nt_domint=i.domInteractive,r.nt_domcomp=i.domComplete,r.nt_load_st=i.loadEventEnd,r.nt_load_end=i.loadEventEnd);for(u in r)r.hasOwnProperty(u)&&!r[u]&&delete r[u];UTBOOMR.addVar(r);try{n.addedVars.push.apply(n.addedVars,Object.keys(r))}catch(e){}this.complete=!0;UTBOOMR.sendBeacon()}},done:function(){var r=UTBOOMR.window,u,f,t,i;if(this.complete)return this;if(n.addedVars=[],u=r.performance||r.msPerformance||r.webkitPerformance||r.mozPerformance,u&&u.timing&&u.navigation){UTBOOMR.info("This user agent supports NavigationTiming.","nt");f=u.navigation;t=u.timing;i={nt_red_cnt:f.redirectCount,nt_nav_type:f.type,nt_nav_st:t.navigationStart,nt_red_st:t.redirectStart,nt_red_end:t.redirectEnd,nt_fet_st:t.fetchStart,nt_dns_st:t.domainLookupStart,nt_dns_end:t.domainLookupEnd,nt_con_st:t.connectStart,nt_con_end:t.connectEnd,nt_req_st:t.requestStart,nt_res_st:t.responseStart,nt_res_end:t.responseEnd,nt_domloading:t.domLoading,nt_domint:t.domInteractive,nt_domcontloaded_st:t.domContentLoadedEventStart,nt_domcontloaded_end:t.domContentLoadedEventEnd,nt_domcomp:t.domComplete,nt_load_st:t.loadEventStart,nt_load_end:t.loadEventEnd,nt_unload_st:t.unloadEventStart,nt_unload_end:t.unloadEventEnd};t.secureConnectionStart&&(i.nt_ssl_st=t.secureConnectionStart);t.msFirstPaint&&(i.nt_first_paint=t.msFirstPaint);UTBOOMR.addVar(i);try{n.addedVars.push.apply(n.addedVars,Object.keys(i))}catch(e){}}if(r.chrome&&r.chrome.loadTimes&&(t=r.chrome.loadTimes(),t)){i={nt_spdy:t.wasFetchedViaSpdy?1:0,nt_cinf:t.connectionInfo,nt_first_paint:t.firstPaintTime};UTBOOMR.addVar(i);try{n.addedVars.push.apply(n.addedVars,Object.keys(i))}catch(e){}}this.complete=!0;UTBOOMR.sendBeacon()},clear:function(){n.addedVars&&n.addedVars.length>0&&(UTBOOMR.removeVar(n.addedVars),n.addedVars=[]);this.complete=!1}};UTBOOMR.plugins.NavigationTiming={init:function(){return n.initialized||(UTBOOMR.subscribe("page_ready",n.done,null,n),UTBOOMR.subscribe("xhr_load",n.xhr_done,null,n),UTBOOMR.subscribe("before_unload",n.done,null,n),UTBOOMR.subscribe("onbeacon",n.clear,null,n),n.initialized=!0),this},is_complete:function(){return!0}}}}();ut_beacon="hit.uptrendsdata.com/api/hits";ut_useCookie=!1;_urconfig&&_urconfig.useLegacyStartTime&&(ut_useCookie=!0);ut_protocol="https:";try{_urconfig&&_urconfig.usePageProtocol&&(ut_protocol=window.location.protocol)}catch(e){}UTBOOMR.init({beacon_url:ut_protocol+"//"+ut_beacon,RT:{cookie:ut_useCookie?"RT":null}});UTBOOMR.addVar("urv",7);UTBOOMR.addVar("sid",(_urconfig||{}).sid);UTBOOMR.addVar("aip",(_urconfig||{}).aip);_urconfig&&_urconfig.uselog||(UTBOOMR.log=function(){});